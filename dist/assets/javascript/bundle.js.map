{"version":3,"sources":["node_modules/browser-pack/_prelude.js","../sources/javascript/index.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var dom = {}\n    dom.body = document.querySelector('body')\n\n//chapter page\nif (dom.body.querySelector('.scene')) {\n  dom.chapter             = dom.body.querySelector('.chapter')\n  dom.scene               = dom.body.querySelectorAll('.scene')\n  dom.timeline_point      = dom.body.querySelectorAll('.nav--timeline--link')\n  dom.timeline_bar        = dom.body.querySelector('.nav--timeline--bar--full')\n  dom.btn_menu            = dom.body.querySelector('.nav--menu')\n  dom.btn_menu_close      = dom.body.querySelector('.popin--close')\n  dom.menu_popin          = dom.body.querySelector('.popin')\n  dom.menu_sound          = dom.body.querySelector('.nav--sound')\n  dom.audio               = dom.body.querySelector('.main-audio')\n\n  //slider dimensions\n  var width_slider = ()=>\n  {\n    var window_width = window.innerWidth;\n    for (var i = 0; i < dom.scene.length; i++)\n    {\n      dom.scene[i].style.width = window_width + 'px'\n    }\n    dom.chapter.style.width = window_width * dom.scene.length + 'px'\n  }\n\n  width_slider()\n  window.addEventListener(\"resize\", function(){\n    width_slider()\n  });\n\n  //next scene function\n  var current_scene = 0\n  var chapter = 1\n\n  var next_scene = ()=>\n  {\n    if (current_scene < dom.scene.length - 1)\n    {\n      sound('../assets/sounds/sound_scroll.mp3', 0.1)\n      current_scene++\n      dom.chapter.style.transform = \"translateX(\" + -current_scene * window.innerWidth + \"px)\"\n      dom.scene[current_scene].classList.add('scene--active')\n      dom.scene[current_scene-1].classList.remove('scene--active')\n      dom.timeline_point[current_scene].classList.add('nav--timeline--link--active')\n      dom.timeline_bar.style.transform = 'scaleX(' + ( 1 / (dom.scene.length-1) ) * current_scene + ')'\n    }\n    else {\n      var path = document.location.href\n      var file_name = path.substring(path.lastIndexOf( \"/\" ) + 1 );\n      var chapter_current = file_name.replace(/[^\\d]/g, \"\");\n      chapter_current = parseInt(chapter_current)+1;\n      if (chapter_current < 5) {\n        document.location.href = \"http://localhost:3000/chapters/chapter\" + chapter_current + \".html\"\n      }\n    }\n  }\n\n  //previous scene function\n  var previous_scene = ()=>\n  {\n    if (current_scene > 0) {\n      sound('../assets/sounds/sound_scroll.mp3', 0.1)\n      dom.scene[current_scene].classList.remove('scene--active')\n      dom.timeline_point[current_scene].classList.remove('nav--timeline--link--active')\n      current_scene--\n      dom.scene[current_scene].classList.add('scene--active')\n      dom.chapter.style.transform = \"translateX(\" + -current_scene * window.innerWidth + \"px)\"\n      dom.timeline_bar.style.transform = 'scaleX(' + ( 1 / (dom.scene.length-1) ) * current_scene + ')'\n    }\n    else {\n      var path = document.location.href\n      var file_name = path.substring(path.lastIndexOf( \"/\" ) + 1 );\n      var chapter_current = file_name.replace(/[^\\d]/g, \"\");\n      chapter_current = parseInt(chapter_current)-1;\n      if (chapter_current > 0) {\n        document.location.href = \"http://localhost:3000/chapters/chapter\" + chapter_current + \".html\"\n      }\n    }\n  }\n\n  //key control\n  document.addEventListener('keyup', (e)=>\n  {\n    if (e.keyCode == 39) {\n      next_scene()\n      e.preventDefault();\n    }\n    if (e.keyCode == 37) {\n      previous_scene()\n      e.preventDefault();\n    }\n  })\n\n  //click control\n  for (let i = 0; i < dom.timeline_point.length; i++) {\n    dom.timeline_point[i].addEventListener('click', (e)=>\n    {\n      if (current_scene > i) {\n        sound('../assets/sounds/sound_scroll.mp3', 0.1)\n        dom.scene[current_scene].classList.remove('scene--active')\n        dom.timeline_point[current_scene].classList.remove('nav--timeline--link--active')\n        current_scene--\n        dom.chapter.style.transform = \"translateX(\" + -current_scene * window.innerWidth + \"px)\"\n        dom.timeline_bar.style.transform = 'scaleX(' + (current_scene * dom.scene.length) / 20 + ')'\n      }\n      if (current_scene < i) {\n        sound('../assets/sounds/sound_scroll.mp3', 0.1)\n        current_scene++\n        dom.chapter.style.transform = \"translateX(\" + -current_scene * window.innerWidth + \"px)\"\n        dom.scene[current_scene].classList.add('scene--active')\n        dom.timeline_point[current_scene].classList.add('nav--timeline--link--active')\n        dom.timeline_bar.style.transform = 'scaleX(' + (current_scene * dom.scene.length) / 20 + ')'\n      }\n      e.preventDefault();\n    })\n  }\n\n  dom.btn_menu.addEventListener('mouseover', (e)=>\n  {\n    sound('../assets/sounds/sound_button.mp3', 0.1)\n  })\n  dom.menu_sound.addEventListener('mouseover', (e)=>\n  {\n    sound('../assets/sounds/sound_button.mp3', 0.1)\n  })\n  dom.menu_sound.addEventListener('click', (e)=>\n  {\n    if (dom.audio.muted) {\n      dom.menu_sound.classList.remove('nav--sound--icon--pause')\n      dom.audio.muted = false;\n    }\n    else {\n      dom.menu_sound.classList.add('nav--sound--icon--pause')\n      dom.audio.muted = true;\n    }\n  })\n\n  //chapter menu sound('../assets/sounds/sound_scroll.mp3', 0.1)\n  dom.btn_menu.addEventListener('click', (e)=>\n  {\n    dom.menu_popin.style.display = 'block'\n    setTimeout( ()=>\n    {\n      dom.menu_popin.classList.add('popin--active')\n    }, 10)\n    e.preventDefault();\n  })\n  dom.btn_menu_close.addEventListener('click', (e)=>\n  {\n    dom.menu_popin.classList.remove('popin--active')\n    setTimeout( ()=>\n    {\n      dom.menu_popin.style.display = 'none'\n    }, 300)\n    e.preventDefault();\n  })\n\n  //lethargy scroll\n  function addEvent(el, eventType, handler)\n  {\n  \tif (el.addEventListener)\n    {\n  \t\tel.addEventListener(eventType, handler, false);\n  \t}\n    else if (el.attachEvent)\n    {\n  \t\tel.attachEvent('on' + eventType, handler);\n  \t}\n    else\n    {\n  \t\tel['on' + eventType] = handler;\n  \t}\n  };\n\n  (function()\n  {\n  \tvar lethargy = new Lethargy();\n\n    var scrolling = true\n  \tvar checkScroll = function (e)\n    {\n      if (scrolling === true) {\n        scrolling = false\n        e.preventDefault()\n    \t\te.stopPropagation();\n\n        var result = lethargy.check(e);\n        if(result == -1)\n        {\n    \t\t\tnext_scene()\n    \t\t}\n        else if (result == 1)\n        {\n          previous_scene()\n        }\n        setTimeout(function ()\n        {\n          scrolling = true\n        }, 1500)\n      }\n  \t};\n\n  \t// Cross-browser way to bind to mouse events\n  \taddEvent(window, 'mousewheel', checkScroll);\n  \taddEvent(window, 'DOMMouseScroll', checkScroll);\n  \taddEvent(window, 'wheel', checkScroll);\n  \taddEvent(window, 'MozMousePixelScroll', checkScroll);\n  })();\n}\n\n//home page\nif (dom.body.querySelector('.mainHeader')) {\n  dom.main               =  dom.body.querySelector('.mainHeader')\n  dom.main_header        = dom.body.querySelector('.mainHeader--content')\n  dom.main_header_front  = dom.body.querySelector('.mainHeader--content--front')\n  dom.main_header_btn    = dom.body.querySelector('.mainHeader--content--center--btn a')\n  dom.intro_video        = dom.body.querySelector('.intro--video')\n  dom.intro_skip         = dom.body.querySelector('.intro--skip')\n\n  dom.main_header_btn.addEventListener('mouseenter', (e)=>\n  {\n    sound('../assets/sounds/gun_reload.mp3', 1)\n  })\n\n  dom.intro_skip.addEventListener('click', (e)=>\n  {\n    document.location.href = \"http://localhost:3000/chapters/chapter1.html\"\n  })\n\n  dom.main_header_btn.addEventListener('click', (e)=>\n  {\n    dom.main.style.opacity = \"0\"\n    setTimeout(function(){\n      dom.main.style.display = \"none\"\n    }, 600)\n    dom.intro_video.play()\n    sound('../assets/sounds/gun_shot.mp3', 1)\n  })\n\n  dom.intro_video.onended = function() {\n    document.location.href = \"http://localhost:3000/chapters/chapter1.html\"\n  }\n\n  //mouse paralax\n  let paralax = ()=>\n  {\n    window.addEventListener('mousemove', (e)=>\n    {\n      let ratio_x = (Math.round((e.clientX * 100) / window.innerWidth)) - 50\n      let ratio_y = (Math.round((e.clientY * 100) / window.innerWidth)) - 50\n      dom.main_header.style.transform = 'translate(' + ratio_x * 0.1 + 'px, ' + ratio_y * 0.1 + 'px)'\n      dom.main_header_front.style.transform = 'translate(' + ratio_x * -0.3 + 'px, ' + ratio_y * -0.3 + 'px)'\n    })\n  }\n  paralax()\n}\n\n//Sound design\nfunction sound(src, volume){\n  var sound = new Audio(src);\n  sound.autoplay = true;\n  sound.volume = volume;\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi9zb3VyY2VzL2phdmFzY3JpcHQvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQUksTUFBTSxFQUFWO0FBQ0ksSUFBSSxJQUFKLEdBQVcsU0FBUyxhQUFULENBQXVCLE1BQXZCLENBQVg7O0FBRUo7QUFDQSxJQUFJLElBQUksSUFBSixDQUFTLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBSixFQUFzQzs7QUEwSnBDO0FBMUpvQyxNQTJKM0IsUUEzSjJCLEdBMkpwQyxTQUFTLFFBQVQsQ0FBa0IsRUFBbEIsRUFBc0IsU0FBdEIsRUFBaUMsT0FBakMsRUFDQTtBQUNDLFFBQUksR0FBRyxnQkFBUCxFQUNDO0FBQ0EsU0FBRyxnQkFBSCxDQUFvQixTQUFwQixFQUErQixPQUEvQixFQUF3QyxLQUF4QztBQUNBLEtBSEQsTUFJTSxJQUFJLEdBQUcsV0FBUCxFQUNMO0FBQ0EsU0FBRyxXQUFILENBQWUsT0FBTyxTQUF0QixFQUFpQyxPQUFqQztBQUNBLEtBSEssTUFLTDtBQUNBLFNBQUcsT0FBTyxTQUFWLElBQXVCLE9BQXZCO0FBQ0E7QUFDRCxHQXpLbUM7O0FBQ3BDLE1BQUksT0FBSixHQUEwQixJQUFJLElBQUosQ0FBUyxhQUFULENBQXVCLFVBQXZCLENBQTFCO0FBQ0EsTUFBSSxLQUFKLEdBQTBCLElBQUksSUFBSixDQUFTLGdCQUFULENBQTBCLFFBQTFCLENBQTFCO0FBQ0EsTUFBSSxjQUFKLEdBQTBCLElBQUksSUFBSixDQUFTLGdCQUFULENBQTBCLHNCQUExQixDQUExQjtBQUNBLE1BQUksWUFBSixHQUEwQixJQUFJLElBQUosQ0FBUyxhQUFULENBQXVCLDJCQUF2QixDQUExQjtBQUNBLE1BQUksUUFBSixHQUEwQixJQUFJLElBQUosQ0FBUyxhQUFULENBQXVCLFlBQXZCLENBQTFCO0FBQ0EsTUFBSSxjQUFKLEdBQTBCLElBQUksSUFBSixDQUFTLGFB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RjtBQUNBLFVBQUksaUJBQUosQ0FBc0IsS0FBdEIsQ0FBNEIsU0FBNUIsR0FBd0MsZUFBZSxVQUFVLENBQUMsR0FBMUIsR0FBZ0MsTUFBaEMsR0FBeUMsVUFBVSxDQUFDLEdBQXBELEdBQTBELEtBQWxHO0FBQ0QsS0FORDtBQU9ELEdBVEQ7QUFVQTtBQUNEOztBQUVEO0FBQ0EsU0FBUyxLQUFULENBQWUsR0FBZixFQUFvQixNQUFwQixFQUEyQjtBQUN6QixNQUFJLFFBQVEsSUFBSSxLQUFKLENBQVUsR0FBVixDQUFaO0FBQ0EsUUFBTSxRQUFOLEdBQWlCLElBQWpCO0FBQ0EsUUFBTSxNQUFOLEdBQWUsTUFBZjtBQUNEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBkb20gPSB7fVxuICAgIGRvbS5ib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpXG5cbi8vY2hhcHRlciBwYWdlXG5pZiAoZG9tLmJvZHkucXVlcnlTZWxlY3RvcignLnNjZW5lJykpIHtcbiAgZG9tLmNoYXB0ZXIgICAgICAgICAgICAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcuY2hhcHRlcicpXG4gIGRvbS5zY2VuZSAgICAgICAgICAgICAgID0gZG9tLmJvZHkucXVlcnlTZWxlY3RvckFsbCgnLnNjZW5lJylcbiAgZG9tLnRpbWVsaW5lX3BvaW50ICAgICAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yQWxsKCcubmF2LS10aW1lbGluZS0tbGluaycpXG4gIGRvbS50aW1lbGluZV9iYXIgICAgICAgID0gZG9tLmJvZHkucXVlcnlTZWxlY3RvcignLm5hdi0tdGltZWxpbmUtLWJhci0tZnVsbCcpXG4gIGRvbS5idG5fbWVudSAgICAgICAgICAgID0gZG9tLmJvZHkucXVlcnlTZWxlY3RvcignLm5hdi0tbWVudScpXG4gIGRvbS5idG5fbWVudV9jbG9zZSAgICAgID0gZG9tLmJvZHkucXVlcnlTZWxlY3RvcignLnBvcGluLS1jbG9zZScpXG4gIGRvbS5tZW51X3BvcGluICAgICAgICAgID0gZG9tLmJvZHkucXVlcnlTZWxlY3RvcignLnBvcGluJylcbiAgZG9tLm1lbnVfc291bmQgICAgICAgICAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcubmF2LS1zb3VuZCcpXG4gIGRvbS5hdWRpbyAgICAgICAgICAgICAgID0gZG9tLmJvZHkucXVlcnlTZWxlY3RvcignLm1haW4tYXVkaW8nKVxuXG4gIC8vc2xpZGVyIGRpbWVuc2lvbnNcbiAgdmFyIHdpZHRoX3NsaWRlciA9ICgpPT5cbiAge1xuICAgIHZhciB3aW5kb3dfd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvbS5zY2VuZS5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICBkb20uc2NlbmVbaV0uc3R5bGUud2lkdGggPSB3aW5kb3dfd2lkdGggKyAncHgnXG4gICAgfVxuICAgIGRvbS5jaGFwdGVyLnN0eWxlLndpZHRoID0gd2luZG93X3dpZHRoICogZG9tLnNjZW5lLmxlbmd0aCArICdweCdcbiAgfVxuXG4gIHdpZHRoX3NsaWRlcigpXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGZ1bmN0aW9uKCl7XG4gICAgd2lkdGhfc2xpZGVyKClcbiAgfSk7XG5cbiAgLy9uZXh0IHNjZW5lIGZ1bmN0aW9uXG4gIHZhciBjdXJyZW50X3NjZW5lID0gMFxuICB2YXIgY2hhcHRlciA9IDFcblxuICB2YXIgbmV4dF9zY2VuZSA9ICgpPT5cbiAge1xuICAgIGlmIChjdXJyZW50X3NjZW5lIDwgZG9tLnNjZW5lLmxlbmd0aCAtIDEpXG4gICAge1xuICAgICAgc291bmQoJy4uL2Fzc2V0cy9zb3VuZHMvc291bmRfc2Nyb2xsLm1wMycsIDAuMSlcbiAgICAgIGN1cnJlbnRfc2NlbmUrK1xuICAgICAgZG9tLmNoYXB0ZXIuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiICsgLWN1cnJlbnRfc2NlbmUgKiB3aW5kb3cuaW5uZXJXaWR0aCArIFwicHgpXCJcbiAgICAgIGRvbS5zY2VuZVtjdXJyZW50X3NjZW5lXS5jbGFzc0xpc3QuYWRkKCdzY2VuZS0tYWN0aXZlJylcbiAgICAgIGRvbS5zY2VuZVtjdXJyZW50X3NjZW5lLTFdLmNsYXNzTGlzdC5yZW1vdmUoJ3NjZW5lLS1hY3RpdmUnKVxuICAgICAgZG9tLnRpbWVsaW5lX3BvaW50W2N1cnJlbnRfc2NlbmVdLmNsYXNzTGlzdC5hZGQoJ25hdi0tdGltZWxpbmUtLWxpbmstLWFjdGl2ZScpXG4gICAgICBkb20udGltZWxpbmVfYmFyLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoJyArICggMSAvIChkb20uc2NlbmUubGVuZ3RoLTEpICkgKiBjdXJyZW50X3NjZW5lICsgJyknXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIHBhdGggPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmXG4gICAgICB2YXIgZmlsZV9uYW1lID0gcGF0aC5zdWJzdHJpbmcocGF0aC5sYXN0SW5kZXhPZiggXCIvXCIgKSArIDEgKTtcbiAgICAgIHZhciBjaGFwdGVyX2N1cnJlbnQgPSBmaWxlX25hbWUucmVwbGFjZSgvW15cXGRdL2csIFwiXCIpO1xuICAgICAgY2hhcHRlcl9jdXJyZW50ID0gcGFyc2VJbnQoY2hhcHRlcl9jdXJyZW50KSsxO1xuICAgICAgaWYgKGNoYXB0ZXJfY3VycmVudCA8IDUpIHtcbiAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2NoYXB0ZXJzL2NoYXB0ZXJcIiArIGNoYXB0ZXJfY3VycmVudCArIFwiLmh0bWxcIlxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vcHJldmlvdXMgc2NlbmUgZnVuY3Rpb25cbiAgdmFyIHByZXZpb3VzX3NjZW5lID0gKCk9PlxuICB7XG4gICAgaWYgKGN1cnJlbnRfc2NlbmUgPiAwKSB7XG4gICAgICBzb3VuZCgnLi4vYXNzZXRzL3NvdW5kcy9zb3VuZF9zY3JvbGwubXAzJywgMC4xKVxuICAgICAgZG9tLnNjZW5lW2N1cnJlbnRfc2NlbmVdLmNsYXNzTGlzdC5yZW1vdmUoJ3NjZW5lLS1hY3RpdmUnKVxuICAgICAgZG9tLnRpbWVsaW5lX3BvaW50W2N1cnJlbnRfc2NlbmVdLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi0tdGltZWxpbmUtLWxpbmstLWFjdGl2ZScpXG4gICAgICBjdXJyZW50X3NjZW5lLS1cbiAgICAgIGRvbS5zY2VuZVtjdXJyZW50X3NjZW5lXS5jbGFzc0xpc3QuYWRkKCdzY2VuZS0tYWN0aXZlJylcbiAgICAgIGRvbS5jaGFwdGVyLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWChcIiArIC1jdXJyZW50X3NjZW5lICogd2luZG93LmlubmVyV2lkdGggKyBcInB4KVwiXG4gICAgICBkb20udGltZWxpbmVfYmFyLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoJyArICggMSAvIChkb20uc2NlbmUubGVuZ3RoLTEpICkgKiBjdXJyZW50X3NjZW5lICsgJyknXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIHBhdGggPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmXG4gICAgICB2YXIgZmlsZV9uYW1lID0gcGF0aC5zdWJzdHJpbmcocGF0aC5sYXN0SW5kZXhPZiggXCIvXCIgKSArIDEgKTtcbiAgICAgIHZhciBjaGFwdGVyX2N1cnJlbnQgPSBmaWxlX25hbWUucmVwbGFjZSgvW15cXGRdL2csIFwiXCIpO1xuICAgICAgY2hhcHRlcl9jdXJyZW50ID0gcGFyc2VJbnQoY2hhcHRlcl9jdXJyZW50KS0xO1xuICAgICAgaWYgKGNoYXB0ZXJfY3VycmVudCA+IDApIHtcbiAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2NoYXB0ZXJzL2NoYXB0ZXJcIiArIGNoYXB0ZXJfY3VycmVudCArIFwiLmh0bWxcIlxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8va2V5IGNvbnRyb2xcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZSk9PlxuICB7XG4gICAgaWYgKGUua2V5Q29kZSA9PSAzOSkge1xuICAgICAgbmV4dF9zY2VuZSgpXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIGlmIChlLmtleUNvZGUgPT0gMzcpIHtcbiAgICAgIHByZXZpb3VzX3NjZW5lKClcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0pXG5cbiAgLy9jbGljayBjb250cm9sXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZG9tLnRpbWVsaW5lX3BvaW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgZG9tLnRpbWVsaW5lX3BvaW50W2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpPT5cbiAgICB7XG4gICAgICBpZiAoY3VycmVudF9zY2VuZSA+IGkpIHtcbiAgICAgICAgc291bmQoJy4uL2Fzc2V0cy9zb3VuZHMvc291bmRfc2Nyb2xsLm1wMycsIDAuMSlcbiAgICAgICAgZG9tLnNjZW5lW2N1cnJlbnRfc2NlbmVdLmNsYXNzTGlzdC5yZW1vdmUoJ3NjZW5lLS1hY3RpdmUnKVxuICAgICAgICBkb20udGltZWxpbmVfcG9pbnRbY3VycmVudF9zY2VuZV0uY2xhc3NMaXN0LnJlbW92ZSgnbmF2LS10aW1lbGluZS0tbGluay0tYWN0aXZlJylcbiAgICAgICAgY3VycmVudF9zY2VuZS0tXG4gICAgICAgIGRvbS5jaGFwdGVyLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWChcIiArIC1jdXJyZW50X3NjZW5lICogd2luZG93LmlubmVyV2lkdGggKyBcInB4KVwiXG4gICAgICAgIGRvbS50aW1lbGluZV9iYXIuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgnICsgKGN1cnJlbnRfc2NlbmUgKiBkb20uc2NlbmUubGVuZ3RoKSAvIDIwICsgJyknXG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudF9zY2VuZSA8IGkpIHtcbiAgICAgICAgc291bmQoJy4uL2Fzc2V0cy9zb3VuZHMvc291bmRfc2Nyb2xsLm1wMycsIDAuMSlcbiAgICAgICAgY3VycmVudF9zY2VuZSsrXG4gICAgICAgIGRvbS5jaGFwdGVyLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWChcIiArIC1jdXJyZW50X3NjZW5lICogd2luZG93LmlubmVyV2lkdGggKyBcInB4KVwiXG4gICAgICAgIGRvbS5zY2VuZVtjdXJyZW50X3NjZW5lXS5jbGFzc0xpc3QuYWRkKCdzY2VuZS0tYWN0aXZlJylcbiAgICAgICAgZG9tLnRpbWVsaW5lX3BvaW50W2N1cnJlbnRfc2NlbmVdLmNsYXNzTGlzdC5hZGQoJ25hdi0tdGltZWxpbmUtLWxpbmstLWFjdGl2ZScpXG4gICAgICAgIGRvbS50aW1lbGluZV9iYXIuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgnICsgKGN1cnJlbnRfc2NlbmUgKiBkb20uc2NlbmUubGVuZ3RoKSAvIDIwICsgJyknXG4gICAgICB9XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSlcbiAgfVxuXG4gIGRvbS5idG5fbWVudS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoZSk9PlxuICB7XG4gICAgc291bmQoJy4uL2Fzc2V0cy9zb3VuZHMvc291bmRfYnV0dG9uLm1wMycsIDAuMSlcbiAgfSlcbiAgZG9tLm1lbnVfc291bmQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKGUpPT5cbiAge1xuICAgIHNvdW5kKCcuLi9hc3NldHMvc291bmRzL3NvdW5kX2J1dHRvbi5tcDMnLCAwLjEpXG4gIH0pXG4gIGRvbS5tZW51X3NvdW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpPT5cbiAge1xuICAgIGlmIChkb20uYXVkaW8ubXV0ZWQpIHtcbiAgICAgIGRvbS5tZW51X3NvdW5kLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi0tc291bmQtLWljb24tLXBhdXNlJylcbiAgICAgIGRvbS5hdWRpby5tdXRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGRvbS5tZW51X3NvdW5kLmNsYXNzTGlzdC5hZGQoJ25hdi0tc291bmQtLWljb24tLXBhdXNlJylcbiAgICAgIGRvbS5hdWRpby5tdXRlZCA9IHRydWU7XG4gICAgfVxuICB9KVxuXG4gIC8vY2hhcHRlciBtZW51IHNvdW5kKCcuLi9hc3NldHMvc291bmRzL3NvdW5kX3Njcm9sbC5tcDMnLCAwLjEpXG4gIGRvbS5idG5fbWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKT0+XG4gIHtcbiAgICBkb20ubWVudV9wb3Bpbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuICAgIHNldFRpbWVvdXQoICgpPT5cbiAgICB7XG4gICAgICBkb20ubWVudV9wb3Bpbi5jbGFzc0xpc3QuYWRkKCdwb3Bpbi0tYWN0aXZlJylcbiAgICB9LCAxMClcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0pXG4gIGRvbS5idG5fbWVudV9jbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKT0+XG4gIHtcbiAgICBkb20ubWVudV9wb3Bpbi5jbGFzc0xpc3QucmVtb3ZlKCdwb3Bpbi0tYWN0aXZlJylcbiAgICBzZXRUaW1lb3V0KCAoKT0+XG4gICAge1xuICAgICAgZG9tLm1lbnVfcG9waW4uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH0sIDMwMClcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0pXG5cbiAgLy9sZXRoYXJneSBzY3JvbGxcbiAgZnVuY3Rpb24gYWRkRXZlbnQoZWwsIGV2ZW50VHlwZSwgaGFuZGxlcilcbiAge1xuICBcdGlmIChlbC5hZGRFdmVudExpc3RlbmVyKVxuICAgIHtcbiAgXHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gIFx0fVxuICAgIGVsc2UgaWYgKGVsLmF0dGFjaEV2ZW50KVxuICAgIHtcbiAgXHRcdGVsLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudFR5cGUsIGhhbmRsZXIpO1xuICBcdH1cbiAgICBlbHNlXG4gICAge1xuICBcdFx0ZWxbJ29uJyArIGV2ZW50VHlwZV0gPSBoYW5kbGVyO1xuICBcdH1cbiAgfTtcblxuICAoZnVuY3Rpb24oKVxuICB7XG4gIFx0dmFyIGxldGhhcmd5ID0gbmV3IExldGhhcmd5KCk7XG5cbiAgICB2YXIgc2Nyb2xsaW5nID0gdHJ1ZVxuICBcdHZhciBjaGVja1Njcm9sbCA9IGZ1bmN0aW9uIChlKVxuICAgIHtcbiAgICAgIGlmIChzY3JvbGxpbmcgPT09IHRydWUpIHtcbiAgICAgICAgc2Nyb2xsaW5nID0gZmFsc2VcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9IGxldGhhcmd5LmNoZWNrKGUpO1xuICAgICAgICBpZihyZXN1bHQgPT0gLTEpXG4gICAgICAgIHtcbiAgICBcdFx0XHRuZXh0X3NjZW5lKClcbiAgICBcdFx0fVxuICAgICAgICBlbHNlIGlmIChyZXN1bHQgPT0gMSlcbiAgICAgICAge1xuICAgICAgICAgIHByZXZpb3VzX3NjZW5lKClcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICBzY3JvbGxpbmcgPSB0cnVlXG4gICAgICAgIH0sIDE1MDApXG4gICAgICB9XG4gIFx0fTtcblxuICBcdC8vIENyb3NzLWJyb3dzZXIgd2F5IHRvIGJpbmQgdG8gbW91c2UgZXZlbnRzXG4gIFx0YWRkRXZlbnQod2luZG93LCAnbW91c2V3aGVlbCcsIGNoZWNrU2Nyb2xsKTtcbiAgXHRhZGRFdmVudCh3aW5kb3csICdET01Nb3VzZVNjcm9sbCcsIGNoZWNrU2Nyb2xsKTtcbiAgXHRhZGRFdmVudCh3aW5kb3csICd3aGVlbCcsIGNoZWNrU2Nyb2xsKTtcbiAgXHRhZGRFdmVudCh3aW5kb3csICdNb3pNb3VzZVBpeGVsU2Nyb2xsJywgY2hlY2tTY3JvbGwpO1xuICB9KSgpO1xufVxuXG4vL2hvbWUgcGFnZVxuaWYgKGRvbS5ib2R5LnF1ZXJ5U2VsZWN0b3IoJy5tYWluSGVhZGVyJykpIHtcbiAgZG9tLm1haW4gICAgICAgICAgICAgICA9ICBkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcubWFpbkhlYWRlcicpXG4gIGRvbS5tYWluX2hlYWRlciAgICAgICAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcubWFpbkhlYWRlci0tY29udGVudCcpXG4gIGRvbS5tYWluX2hlYWRlcl9mcm9udCAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcubWFpbkhlYWRlci0tY29udGVudC0tZnJvbnQnKVxuICBkb20ubWFpbl9oZWFkZXJfYnRuICAgID0gZG9tLmJvZHkucXVlcnlTZWxlY3RvcignLm1haW5IZWFkZXItLWNvbnRlbnQtLWNlbnRlci0tYnRuIGEnKVxuICBkb20uaW50cm9fdmlkZW8gICAgICAgID0gZG9tLmJvZHkucXVlcnlTZWxlY3RvcignLmludHJvLS12aWRlbycpXG4gIGRvbS5pbnRyb19za2lwICAgICAgICAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcuaW50cm8tLXNraXAnKVxuXG4gIGRvbS5tYWluX2hlYWRlcl9idG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIChlKT0+XG4gIHtcbiAgICBzb3VuZCgnLi4vYXNzZXRzL3NvdW5kcy9ndW5fcmVsb2FkLm1wMycsIDEpXG4gIH0pXG5cbiAgZG9tLmludHJvX3NraXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9PlxuICB7XG4gICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2NoYXB0ZXJzL2NoYXB0ZXIxLmh0bWxcIlxuICB9KVxuXG4gIGRvbS5tYWluX2hlYWRlcl9idG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9PlxuICB7XG4gICAgZG9tLm1haW4uc3R5bGUub3BhY2l0eSA9IFwiMFwiXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgZG9tLm1haW4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgfSwgNjAwKVxuICAgIGRvbS5pbnRyb192aWRlby5wbGF5KClcbiAgICBzb3VuZCgnLi4vYXNzZXRzL3NvdW5kcy9ndW5fc2hvdC5tcDMnLCAxKVxuICB9KVxuXG4gIGRvbS5pbnRyb192aWRlby5vbmVuZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2NoYXB0ZXJzL2NoYXB0ZXIxLmh0bWxcIlxuICB9XG5cbiAgLy9tb3VzZSBwYXJhbGF4XG4gIGxldCBwYXJhbGF4ID0gKCk9PlxuICB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKT0+XG4gICAge1xuICAgICAgbGV0IHJhdGlvX3ggPSAoTWF0aC5yb3VuZCgoZS5jbGllbnRYICogMTAwKSAvIHdpbmRvdy5pbm5lcldpZHRoKSkgLSA1MFxuICAgICAgbGV0IHJhdGlvX3kgPSAoTWF0aC5yb3VuZCgoZS5jbGllbnRZICogMTAwKSAvIHdpbmRvdy5pbm5lcldpZHRoKSkgLSA1MFxuICAgICAgZG9tLm1haW5faGVhZGVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoJyArIHJhdGlvX3ggKiAwLjEgKyAncHgsICcgKyByYXRpb195ICogMC4xICsgJ3B4KSdcbiAgICAgIGRvbS5tYWluX2hlYWRlcl9mcm9udC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKCcgKyByYXRpb194ICogLTAuMyArICdweCwgJyArIHJhdGlvX3kgKiAtMC4zICsgJ3B4KSdcbiAgICB9KVxuICB9XG4gIHBhcmFsYXgoKVxufVxuXG4vL1NvdW5kIGRlc2lnblxuZnVuY3Rpb24gc291bmQoc3JjLCB2b2x1bWUpe1xuICB2YXIgc291bmQgPSBuZXcgQXVkaW8oc3JjKTtcbiAgc291bmQuYXV0b3BsYXkgPSB0cnVlO1xuICBzb3VuZC52b2x1bWUgPSB2b2x1bWU7XG59XG4iXX0="}
{"version":3,"sources":["node_modules/browser-pack/_prelude.js","../sources/javascript/index.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var dom = {}\n    dom.body = document.querySelector('body')\n\n//chapter page\nif (dom.body.querySelector('.scene')) {\n  dom.chapter             = dom.body.querySelector('.chapter')\n  dom.scene               = dom.body.querySelectorAll('.scene')\n  dom.timeline_point      = dom.body.querySelectorAll('.nav--timeline--link')\n  dom.timeline_bar        = dom.body.querySelector('.nav--timeline--bar--full')\n  dom.btn_menu            = dom.body.querySelector('.nav--menu')\n  dom.btn_menu_close      = dom.body.querySelector('.popin--close')\n  dom.menu_popin          = dom.body.querySelector('.popin')\n  dom.menu_sound          = dom.body.querySelector('.nav--sound')\n\n  //slider dimensions\n  var width_slider = ()=>\n  {\n    var window_width = window.innerWidth;\n    for (var i = 0; i < dom.scene.length; i++)\n    {\n      dom.scene[i].style.width = window_width + 'px'\n    }\n    dom.chapter.style.width = window_width * dom.scene.length + 'px'\n  }\n\n  width_slider()\n  window.addEventListener(\"resize\", function(){\n    width_slider()\n  });\n\n  //next scene function\n  var current_scene = 0\n  var chapter = 1\n\n  var next_scene = ()=>\n  {\n    if (current_scene < dom.scene.length - 1)\n    {\n      sound('../assets/sounds/sound_scroll.mp3', 0.1)\n      current_scene++\n      dom.chapter.style.transform = \"translateX(\" + -current_scene * window.innerWidth + \"px)\"\n      dom.scene[current_scene].classList.add('scene--active')\n      dom.scene[current_scene-1].classList.remove('scene--active')\n      dom.timeline_point[current_scene].classList.add('nav--timeline--link--active')\n      dom.timeline_bar.style.transform = 'scaleX(' + ( 1 / (dom.scene.length-1) ) * current_scene + ')'\n    }\n    // else {\n    //   chapter++\n    //   current_scene = 0\n    //   $.ajax({\n    //       type: \"GET\",\n    //       url: \"./chapters/chapter\" + chapter + \".html\",\n    //       processData: false,\n    //       crossDomain: true,\n    //       cache: true,\n    //       success: function (result, responseData) { $(\"body\").html(result); },\n    //       error: function (responseData, textStatus, errorThrown) { alert('AJAX failed'); },\n    //   });\n    // }\n  }\n\n  //previous scene function\n  var previous_scene = ()=>\n  {\n    if (current_scene > 0) {\n      sound('../assets/sounds/sound_scroll.mp3', 0.1)\n      dom.scene[current_scene].classList.remove('scene--active')\n      dom.timeline_point[current_scene].classList.remove('nav--timeline--link--active')\n      current_scene--\n      dom.scene[current_scene].classList.add('scene--active')\n      dom.chapter.style.transform = \"translateX(\" + -current_scene * window.innerWidth + \"px)\"\n      dom.timeline_bar.style.transform = 'scaleX(' + ( 1 / (dom.scene.length-1) ) * current_scene + ')'\n    }\n  }\n\n  //key control\n  document.addEventListener('keyup', (e)=>\n  {\n    if (e.keyCode == 39) {\n      next_scene()\n      e.preventDefault();\n    }\n    if (e.keyCode == 37) {\n      previous_scene()\n      e.preventDefault();\n    }\n  })\n\n  //click control\n  for (let i = 0; i < dom.timeline_point.length; i++) {\n    dom.timeline_point[i].addEventListener('click', (e)=>\n    {\n      if (current_scene > i) {\n        sound('../assets/sounds/sound_scroll.mp3', 0.1)\n        dom.scene[current_scene].classList.remove('scene--active')\n        dom.timeline_point[current_scene].classList.remove('nav--timeline--link--active')\n        current_scene--\n        dom.chapter.style.transform = \"translateX(\" + -current_scene * window.innerWidth + \"px)\"\n        dom.timeline_bar.style.transform = 'scaleX(' + (current_scene * dom.scene.length) / 20 + ')'\n      }\n      if (current_scene < i) {\n        sound('../assets/sounds/sound_scroll.mp3', 0.1)\n        current_scene++\n        dom.chapter.style.transform = \"translateX(\" + -current_scene * window.innerWidth + \"px)\"\n        dom.scene[current_scene].classList.add('scene--active')\n        dom.timeline_point[current_scene].classList.add('nav--timeline--link--active')\n        dom.timeline_bar.style.transform = 'scaleX(' + (current_scene * dom.scene.length) / 20 + ')'\n      }\n      e.preventDefault();\n    })\n  }\n\n  dom.btn_menu.addEventListener('mouseover', (e)=>\n  {\n    sound('../assets/sounds/sound_button.mp3', 0.1)\n  })\n  dom.menu_sound.addEventListener('mouseover', (e)=>\n  {\n    sound('../assets/sounds/sound_button.mp3', 0.1)\n  })\n\n  //chapter menu sound('../assets/sounds/sound_scroll.mp3', 0.1)\n  dom.btn_menu.addEventListener('click', (e)=>\n  {\n    dom.menu_popin.style.display = 'block'\n    setTimeout( ()=>\n    {\n      dom.menu_popin.classList.add('popin--active')\n    }, 10)\n    e.preventDefault();\n  })\n  dom.btn_menu_close.addEventListener('click', (e)=>\n  {\n    dom.menu_popin.classList.remove('popin--active')\n    setTimeout( ()=>\n    {\n      dom.menu_popin.style.display = 'none'\n    }, 300)\n    e.preventDefault();\n  })\n\n  //scroll control Lethargy\n}\n\n//home page\nif (dom.body.querySelector('.mainHeader')) {\n  dom.main_header        = dom.body.querySelector('.mainHeader--content')\n  dom.main_header_front  = dom.body.querySelector('.mainHeader--content--front')\n  dom.main_header_btn    = dom.body.querySelector('.mainHeader--content--center--btn a')\n\n  dom.main_header_btn.addEventListener('mouseenter', (e)=>\n  {\n    sound('../assets/sounds/gun_reload.mp3', 1)\n  })\n\n  dom.main_header_btn.addEventListener('click', (e)=>\n  {\n    sound('../assets/sounds/gun_shot.mp3', 1)\n  })\n  //mouse paralax\n  let paralax = ()=>\n  {\n    window.addEventListener('mousemove', (e)=>\n    {\n      let ratio_x = (Math.round((e.clientX * 100) / window.innerWidth)) - 50\n      let ratio_y = (Math.round((e.clientY * 100) / window.innerWidth)) - 50\n      dom.main_header.style.transform = 'translate(' + ratio_x * 0.1 + 'px, ' + ratio_y * 0.1 + 'px)'\n      dom.main_header_front.style.transform = 'translate(' + ratio_x * -0.3 + 'px, ' + ratio_y * -0.3 + 'px)'\n    })\n  }\n  paralax()\n}\n\n//Sound design\nfunction sound(src, volume){\n  var sound = new Audio(src);\n  sound.autoplay = true;\n  sound.volume = volume;\n}\n\n// $(\".ajax--btn\").mouseover(function(){\n//   sound('../assets/sounds/gun_reload.mp3');\n// });\n// $(\".ajax--btn\").on(\"click\", function()\n// {\n//   sound('../assets/sounds/gun_shot.mp3');\n// }\n// //ajax transition\n// $(document).ready(function()\n// {\n//   $(\".ajax--btn\").mouseover(function(){\n//     sound('../assets/sounds/gun_reload.mp3');\n//   });\n//   $(\".ajax--btn\").on(\"click\", function()\n//   {\n//     sound('../assets/sounds/gun_shot.mp3');\n//     var urlPageName = $(this).attr(\"href\");\n//     $.ajax({\n//         type: \"GET\",\n//         url: \"./\" + urlPageName,\n//         processData: false,\n//         crossDomain: true,\n//         cache: true,\n//         success: function (result, responseData) { $(\"body\").html(result); },\n//         error: function (responseData, textStatus, errorThrown) { alert('AJAX failed'); },\n//     });\n//     return false;\n//   });\n// });\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi9zb3VyY2VzL2phdmFzY3JpcHQvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQUksTUFBTSxFQUFWO0FBQ0ksSUFBSSxJQUFKLEdBQVcsU0FBUyxhQUFULENBQXVCLE1BQXZCLENBQVg7O0FBRUo7QUFDQSxJQUFJLElBQUksSUFBSixDQUFTLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBSixFQUFzQztBQUNwQyxNQUFJLE9BQUosR0FBMEIsSUFBSSxJQUFKLENBQVMsYUFBVCxDQUF1QixVQUF2QixDQUExQjtBQUNBLE1BQUksS0FBSixHQUEwQixJQUFJLElBQUosQ0FBUyxnQkFBVCxDQUEwQixRQUExQixDQUExQjtBQUNBLE1BQUksY0FBSixHQUEwQixJQUFJLElBQUosQ0FBUyxnQkFBVCxDQUEwQixzQkFBMUIsQ0FBMUI7QUFDQSxNQUFJLFlBQUosR0FBMEIsSUFBSSxJQUFKLENBQVMsYUFBVCxDQUF1QiwyQkFBdkIsQ0FBMUI7QUFDQSxNQUFJLFFBQUosR0FBMEIsSUFBSSxJQUFKLENBQVMsYUFBVCxDQUF1QixZQUF2QixDQUExQjtBQUNBLE1BQUksY0FBSixHQUEwQixJQUFJLElBQUosQ0FBUyxhQUFULENBQXVCLGVBQXZCLENBQTFCO0FBQ0EsTUFBSSxVQUFKLEdBQTBCLElBQUksSUFBSixDQUFTLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBMUI7QUFDQSxNQUFJLFVBQUosR0FBMEIsSUFBSSxJQUFKLENBQVMsYUFBVCxDQUF1QixhQUF2QixDQUExQjs7QUFFQTtBQUNBLE1BQUksZUFBZSxTQUFmLFlBQWUsR0FDbkI7QUFDRSxRQUFJLGVBQWUsT0FBTyxVQUExQjtBQUNBLFNBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxJQUFJLEtBQUosQ0FBVSxNQUE5QixFQUFzQyxHQUF0QyxFQUNBO0FBQ0UsVUFBSSxLQUFKLENBQVUsQ0FBVixFQUFhLEtB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biBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIGRvbSA9IHt9XG4gICAgZG9tLmJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JylcblxuLy9jaGFwdGVyIHBhZ2VcbmlmIChkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcuc2NlbmUnKSkge1xuICBkb20uY2hhcHRlciAgICAgICAgICAgICA9IGRvbS5ib2R5LnF1ZXJ5U2VsZWN0b3IoJy5jaGFwdGVyJylcbiAgZG9tLnNjZW5lICAgICAgICAgICAgICAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yQWxsKCcuc2NlbmUnKVxuICBkb20udGltZWxpbmVfcG9pbnQgICAgICA9IGRvbS5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXYtLXRpbWVsaW5lLS1saW5rJylcbiAgZG9tLnRpbWVsaW5lX2JhciAgICAgICAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcubmF2LS10aW1lbGluZS0tYmFyLS1mdWxsJylcbiAgZG9tLmJ0bl9tZW51ICAgICAgICAgICAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcubmF2LS1tZW51JylcbiAgZG9tLmJ0bl9tZW51X2Nsb3NlICAgICAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcucG9waW4tLWNsb3NlJylcbiAgZG9tLm1lbnVfcG9waW4gICAgICAgICAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcucG9waW4nKVxuICBkb20ubWVudV9zb3VuZCAgICAgICAgICA9IGRvbS5ib2R5LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtLXNvdW5kJylcblxuICAvL3NsaWRlciBkaW1lbnNpb25zXG4gIHZhciB3aWR0aF9zbGlkZXIgPSAoKT0+XG4gIHtcbiAgICB2YXIgd2luZG93X3dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb20uc2NlbmUubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgZG9tLnNjZW5lW2ldLnN0eWxlLndpZHRoID0gd2luZG93X3dpZHRoICsgJ3B4J1xuICAgIH1cbiAgICBkb20uY2hhcHRlci5zdHlsZS53aWR0aCA9IHdpbmRvd193aWR0aCAqIGRvbS5zY2VuZS5sZW5ndGggKyAncHgnXG4gIH1cblxuICB3aWR0aF9zbGlkZXIoKVxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBmdW5jdGlvbigpe1xuICAgIHdpZHRoX3NsaWRlcigpXG4gIH0pO1xuXG4gIC8vbmV4dCBzY2VuZSBmdW5jdGlvblxuICB2YXIgY3VycmVudF9zY2VuZSA9IDBcbiAgdmFyIGNoYXB0ZXIgPSAxXG5cbiAgdmFyIG5leHRfc2NlbmUgPSAoKT0+XG4gIHtcbiAgICBpZiAoY3VycmVudF9zY2VuZSA8IGRvbS5zY2VuZS5sZW5ndGggLSAxKVxuICAgIHtcbiAgICAgIHNvdW5kKCcuLi9hc3NldHMvc291bmRzL3NvdW5kX3Njcm9sbC5tcDMnLCAwLjEpXG4gICAgICBjdXJyZW50X3NjZW5lKytcbiAgICAgIGRvbS5jaGFwdGVyLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWChcIiArIC1jdXJyZW50X3NjZW5lICogd2luZG93LmlubmVyV2lkdGggKyBcInB4KVwiXG4gICAgICBkb20uc2NlbmVbY3VycmVudF9zY2VuZV0uY2xhc3NMaXN0LmFkZCgnc2NlbmUtLWFjdGl2ZScpXG4gICAgICBkb20uc2NlbmVbY3VycmVudF9zY2VuZS0xXS5jbGFzc0xpc3QucmVtb3ZlKCdzY2VuZS0tYWN0aXZlJylcbiAgICAgIGRvbS50aW1lbGluZV9wb2ludFtjdXJyZW50X3NjZW5lXS5jbGFzc0xpc3QuYWRkKCduYXYtLXRpbWVsaW5lLS1saW5rLS1hY3RpdmUnKVxuICAgICAgZG9tLnRpbWVsaW5lX2Jhci5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKCcgKyAoIDEgLyAoZG9tLnNjZW5lLmxlbmd0aC0xKSApICogY3VycmVudF9zY2VuZSArICcpJ1xuICAgIH1cbiAgICAvLyBlbHNlIHtcbiAgICAvLyAgIGNoYXB0ZXIrK1xuICAgIC8vICAgY3VycmVudF9zY2VuZSA9IDBcbiAgICAvLyAgICQuYWpheCh7XG4gICAgLy8gICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAvLyAgICAgICB1cmw6IFwiLi9jaGFwdGVycy9jaGFwdGVyXCIgKyBjaGFwdGVyICsgXCIuaHRtbFwiLFxuICAgIC8vICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAvLyAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcbiAgICAvLyAgICAgICBjYWNoZTogdHJ1ZSxcbiAgICAvLyAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0LCByZXNwb25zZURhdGEpIHsgJChcImJvZHlcIikuaHRtbChyZXN1bHQpOyB9LFxuICAgIC8vICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2VEYXRhLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgeyBhbGVydCgnQUpBWCBmYWlsZWQnKTsgfSxcbiAgICAvLyAgIH0pO1xuICAgIC8vIH1cbiAgfVxuXG4gIC8vcHJldmlvdXMgc2NlbmUgZnVuY3Rpb25cbiAgdmFyIHByZXZpb3VzX3NjZW5lID0gKCk9PlxuICB7XG4gICAgaWYgKGN1cnJlbnRfc2NlbmUgPiAwKSB7XG4gICAgICBzb3VuZCgnLi4vYXNzZXRzL3NvdW5kcy9zb3VuZF9zY3JvbGwubXAzJywgMC4xKVxuICAgICAgZG9tLnNjZW5lW2N1cnJlbnRfc2NlbmVdLmNsYXNzTGlzdC5yZW1vdmUoJ3NjZW5lLS1hY3RpdmUnKVxuICAgICAgZG9tLnRpbWVsaW5lX3BvaW50W2N1cnJlbnRfc2NlbmVdLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi0tdGltZWxpbmUtLWxpbmstLWFjdGl2ZScpXG4gICAgICBjdXJyZW50X3NjZW5lLS1cbiAgICAgIGRvbS5zY2VuZVtjdXJyZW50X3NjZW5lXS5jbGFzc0xpc3QuYWRkKCdzY2VuZS0tYWN0aXZlJylcbiAgICAgIGRvbS5jaGFwdGVyLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWChcIiArIC1jdXJyZW50X3NjZW5lICogd2luZG93LmlubmVyV2lkdGggKyBcInB4KVwiXG4gICAgICBkb20udGltZWxpbmVfYmFyLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoJyArICggMSAvIChkb20uc2NlbmUubGVuZ3RoLTEpICkgKiBjdXJyZW50X3NjZW5lICsgJyknXG4gICAgfVxuICB9XG5cbiAgLy9rZXkgY29udHJvbFxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKT0+XG4gIHtcbiAgICBpZiAoZS5rZXlDb2RlID09IDM5KSB7XG4gICAgICBuZXh0X3NjZW5lKClcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgaWYgKGUua2V5Q29kZSA9PSAzNykge1xuICAgICAgcHJldmlvdXNfc2NlbmUoKVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSlcblxuICAvL2NsaWNrIGNvbnRyb2xcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb20udGltZWxpbmVfcG9pbnQubGVuZ3RoOyBpKyspIHtcbiAgICBkb20udGltZWxpbmVfcG9pbnRbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9PlxuICAgIHtcbiAgICAgIGlmIChjdXJyZW50X3NjZW5lID4gaSkge1xuICAgICAgICBzb3VuZCgnLi4vYXNzZXRzL3NvdW5kcy9zb3VuZF9zY3JvbGwubXAzJywgMC4xKVxuICAgICAgICBkb20uc2NlbmVbY3VycmVudF9zY2VuZV0uY2xhc3NMaXN0LnJlbW92ZSgnc2NlbmUtLWFjdGl2ZScpXG4gICAgICAgIGRvbS50aW1lbGluZV9wb2ludFtjdXJyZW50X3NjZW5lXS5jbGFzc0xpc3QucmVtb3ZlKCduYXYtLXRpbWVsaW5lLS1saW5rLS1hY3RpdmUnKVxuICAgICAgICBjdXJyZW50X3NjZW5lLS1cbiAgICAgICAgZG9tLmNoYXB0ZXIuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiICsgLWN1cnJlbnRfc2NlbmUgKiB3aW5kb3cuaW5uZXJXaWR0aCArIFwicHgpXCJcbiAgICAgICAgZG9tLnRpbWVsaW5lX2Jhci5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKCcgKyAoY3VycmVudF9zY2VuZSAqIGRvbS5zY2VuZS5sZW5ndGgpIC8gMjAgKyAnKSdcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50X3NjZW5lIDwgaSkge1xuICAgICAgICBzb3VuZCgnLi4vYXNzZXRzL3NvdW5kcy9zb3VuZF9zY3JvbGwubXAzJywgMC4xKVxuICAgICAgICBjdXJyZW50X3NjZW5lKytcbiAgICAgICAgZG9tLmNoYXB0ZXIuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiICsgLWN1cnJlbnRfc2NlbmUgKiB3aW5kb3cuaW5uZXJXaWR0aCArIFwicHgpXCJcbiAgICAgICAgZG9tLnNjZW5lW2N1cnJlbnRfc2NlbmVdLmNsYXNzTGlzdC5hZGQoJ3NjZW5lLS1hY3RpdmUnKVxuICAgICAgICBkb20udGltZWxpbmVfcG9pbnRbY3VycmVudF9zY2VuZV0uY2xhc3NMaXN0LmFkZCgnbmF2LS10aW1lbGluZS0tbGluay0tYWN0aXZlJylcbiAgICAgICAgZG9tLnRpbWVsaW5lX2Jhci5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKCcgKyAoY3VycmVudF9zY2VuZSAqIGRvbS5zY2VuZS5sZW5ndGgpIC8gMjAgKyAnKSdcbiAgICAgIH1cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KVxuICB9XG5cbiAgZG9tLmJ0bl9tZW51LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChlKT0+XG4gIHtcbiAgICBzb3VuZCgnLi4vYXNzZXRzL3NvdW5kcy9zb3VuZF9idXR0b24ubXAzJywgMC4xKVxuICB9KVxuICBkb20ubWVudV9zb3VuZC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoZSk9PlxuICB7XG4gICAgc291bmQoJy4uL2Fzc2V0cy9zb3VuZHMvc291bmRfYnV0dG9uLm1wMycsIDAuMSlcbiAgfSlcblxuICAvL2NoYXB0ZXIgbWVudSBzb3VuZCgnLi4vYXNzZXRzL3NvdW5kcy9zb3VuZF9zY3JvbGwubXAzJywgMC4xKVxuICBkb20uYnRuX21lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9PlxuICB7XG4gICAgZG9tLm1lbnVfcG9waW4uc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICBzZXRUaW1lb3V0KCAoKT0+XG4gICAge1xuICAgICAgZG9tLm1lbnVfcG9waW4uY2xhc3NMaXN0LmFkZCgncG9waW4tLWFjdGl2ZScpXG4gICAgfSwgMTApXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KVxuICBkb20uYnRuX21lbnVfY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9PlxuICB7XG4gICAgZG9tLm1lbnVfcG9waW4uY2xhc3NMaXN0LnJlbW92ZSgncG9waW4tLWFjdGl2ZScpXG4gICAgc2V0VGltZW91dCggKCk9PlxuICAgIHtcbiAgICAgIGRvbS5tZW51X3BvcGluLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICB9LCAzMDApXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KVxuXG4gIC8vc2Nyb2xsIGNvbnRyb2wgTGV0aGFyZ3lcbn1cblxuLy9ob21lIHBhZ2VcbmlmIChkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcubWFpbkhlYWRlcicpKSB7XG4gIGRvbS5tYWluX2hlYWRlciAgICAgICAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcubWFpbkhlYWRlci0tY29udGVudCcpXG4gIGRvbS5tYWluX2hlYWRlcl9mcm9udCAgPSBkb20uYm9keS5xdWVyeVNlbGVjdG9yKCcubWFpbkhlYWRlci0tY29udGVudC0tZnJvbnQnKVxuICBkb20ubWFpbl9oZWFkZXJfYnRuICAgID0gZG9tLmJvZHkucXVlcnlTZWxlY3RvcignLm1haW5IZWFkZXItLWNvbnRlbnQtLWNlbnRlci0tYnRuIGEnKVxuXG4gIGRvbS5tYWluX2hlYWRlcl9idG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIChlKT0+XG4gIHtcbiAgICBzb3VuZCgnLi4vYXNzZXRzL3NvdW5kcy9ndW5fcmVsb2FkLm1wMycsIDEpXG4gIH0pXG5cbiAgZG9tLm1haW5faGVhZGVyX2J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKT0+XG4gIHtcbiAgICBzb3VuZCgnLi4vYXNzZXRzL3NvdW5kcy9ndW5fc2hvdC5tcDMnLCAxKVxuICB9KVxuICAvL21vdXNlIHBhcmFsYXhcbiAgbGV0IHBhcmFsYXggPSAoKT0+XG4gIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpPT5cbiAgICB7XG4gICAgICBsZXQgcmF0aW9feCA9IChNYXRoLnJvdW5kKChlLmNsaWVudFggKiAxMDApIC8gd2luZG93LmlubmVyV2lkdGgpKSAtIDUwXG4gICAgICBsZXQgcmF0aW9feSA9IChNYXRoLnJvdW5kKChlLmNsaWVudFkgKiAxMDApIC8gd2luZG93LmlubmVyV2lkdGgpKSAtIDUwXG4gICAgICBkb20ubWFpbl9oZWFkZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgnICsgcmF0aW9feCAqIDAuMSArICdweCwgJyArIHJhdGlvX3kgKiAwLjEgKyAncHgpJ1xuICAgICAgZG9tLm1haW5faGVhZGVyX2Zyb250LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoJyArIHJhdGlvX3ggKiAtMC4zICsgJ3B4LCAnICsgcmF0aW9feSAqIC0wLjMgKyAncHgpJ1xuICAgIH0pXG4gIH1cbiAgcGFyYWxheCgpXG59XG5cbi8vU291bmQgZGVzaWduXG5mdW5jdGlvbiBzb3VuZChzcmMsIHZvbHVtZSl7XG4gIHZhciBzb3VuZCA9IG5ldyBBdWRpbyhzcmMpO1xuICBzb3VuZC5hdXRvcGxheSA9IHRydWU7XG4gIHNvdW5kLnZvbHVtZSA9IHZvbHVtZTtcbn1cblxuLy8gJChcIi5hamF4LS1idG5cIikubW91c2VvdmVyKGZ1bmN0aW9uKCl7XG4vLyAgIHNvdW5kKCcuLi9hc3NldHMvc291bmRzL2d1bl9yZWxvYWQubXAzJyk7XG4vLyB9KTtcbi8vICQoXCIuYWpheC0tYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKVxuLy8ge1xuLy8gICBzb3VuZCgnLi4vYXNzZXRzL3NvdW5kcy9ndW5fc2hvdC5tcDMnKTtcbi8vIH1cbi8vIC8vYWpheCB0cmFuc2l0aW9uXG4vLyAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpXG4vLyB7XG4vLyAgICQoXCIuYWpheC0tYnRuXCIpLm1vdXNlb3ZlcihmdW5jdGlvbigpe1xuLy8gICAgIHNvdW5kKCcuLi9hc3NldHMvc291bmRzL2d1bl9yZWxvYWQubXAzJyk7XG4vLyAgIH0pO1xuLy8gICAkKFwiLmFqYXgtLWJ0blwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKClcbi8vICAge1xuLy8gICAgIHNvdW5kKCcuLi9hc3NldHMvc291bmRzL2d1bl9zaG90Lm1wMycpO1xuLy8gICAgIHZhciB1cmxQYWdlTmFtZSA9ICQodGhpcykuYXR0cihcImhyZWZcIik7XG4vLyAgICAgJC5hamF4KHtcbi8vICAgICAgICAgdHlwZTogXCJHRVRcIixcbi8vICAgICAgICAgdXJsOiBcIi4vXCIgKyB1cmxQYWdlTmFtZSxcbi8vICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuLy8gICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcbi8vICAgICAgICAgY2FjaGU6IHRydWUsXG4vLyAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQsIHJlc3BvbnNlRGF0YSkgeyAkKFwiYm9keVwiKS5odG1sKHJlc3VsdCk7IH0sXG4vLyAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2VEYXRhLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgeyBhbGVydCgnQUpBWCBmYWlsZWQnKTsgfSxcbi8vICAgICB9KTtcbi8vICAgICByZXR1cm4gZmFsc2U7XG4vLyAgIH0pO1xuLy8gfSk7XG4iXX0="}